import{K as n,r as a,j as e,$ as d}from"./app-D9HrpC0s.js";import{d as o}from"./index-CiGjkQyi.js";import{A as u}from"./AuthenticatedLayout-DSGM0-4O.js";import"./ESTP.f30db3437790b8dbc7d7-BYHELfQG.js";function j(){const{actualites:t=[]}=n().props,[l,i]=a.useState(t);a.useEffect(()=>{i(t)},[t]);const c=s=>{confirm("Êtes-vous sûr de vouloir supprimer cette actualité ?")&&o.Inertia.delete(`/actualites/${s}`,{onSuccess:()=>{i(l.filter(r=>r.id!==s))}})};return e.jsx(u,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"header",children:[e.jsx("h1",{className:"title",children:"Actualités"}),e.jsx(d,{href:"/actualites/create",className:"btn-add",children:"Ajouter une Actualité"})]}),e.jsx("ul",{className:"actualite-list",children:t.length>0?t.map(s=>e.jsxs("li",{className:"actualite-card",children:[e.jsx("h3",{className:"actualite-title",children:s.titre}),e.jsx("img",{src:`/storage/${s.image}`,alt:s.titre,className:"actualite-image"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",s.date]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Lieu:"})," ",s.lieu]}),e.jsx("p",{className:"actualite-description",children:s.description}),e.jsx("div",{className:"actualite-actions",children:e.jsx("button",{onClick:()=>c(s.id),className:"btn-delete",children:"Supprimer"})})]},s.id)):e.jsx("p",{className:"no-actualites",children:"Aucune actualité disponible."})})]})})}export{j as default};
