import{m,j as e}from"./app-C4CUfLTz.js";import{A as n}from"./AuthenticatedLayout-jnfYuBPc.js";import{d as u}from"./index-BkZ4hxhh.js";import"./ESTP.f30db3437790b8dbc7d7-BYHELfQG.js";function j(){const{data:r,setData:s,post:i,reset:o,errors:a}=m({titre:"",date:"",lieu:"",description:"",image:null}),c=t=>{t.preventDefault(),i("/actualites",{preserveScroll:!0,onSuccess:()=>{console.log("Actualité ajoutée avec succès"),u.Inertia.visit("/actualites",{method:"get",preserveState:!0}),o()}})};return e.jsx(n,{children:e.jsx("div",{className:"form-container",children:e.jsxs("div",{className:"form-box",children:[e.jsx("h1",{className:"form-title",children:"Ajouter une Actualité"}),e.jsxs("form",{onSubmit:c,encType:"multipart/form-data",className:"form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Titre"}),e.jsx("input",{type:"text",value:r.titre,onChange:t=>s("titre",t.target.value),className:"form-input"}),a.titre&&e.jsx("p",{className:"error-text",children:a.titre})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Date"}),e.jsx("input",{type:"date",value:r.date,onChange:t=>s("date",t.target.value),className:"form-input"}),a.date&&e.jsx("p",{className:"error-text",children:a.date})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Lieu"}),e.jsx("input",{type:"text",value:r.lieu,onChange:t=>s("lieu",t.target.value),className:"form-input"}),a.lieu&&e.jsx("p",{className:"error-text",children:a.lieu})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:t=>s("description",t.target.value),className:"form-textarea"}),a.description&&e.jsx("p",{className:"error-text",children:a.description})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Image"}),e.jsx("input",{type:"file",onChange:t=>{var l;return s("image",((l=t.target.files)==null?void 0:l[0])||null)},className:"form-input"}),a.image&&e.jsx("p",{className:"error-text",children:a.image})]}),e.jsx("button",{type:"submit",className:"form-submit",children:"Soumettre"})]})]})})})}export{j as default};
