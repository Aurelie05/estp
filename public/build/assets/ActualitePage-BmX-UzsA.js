import{K as n,r as a,j as e,$ as d}from"./app-B9EjQ1z0.js";import{d as o}from"./index-CeymlE6r.js";import{A as u}from"./AuthenticatedLayout-abACUqum.js";import"./ESTP.f30db3437790b8dbc7d7-BYHELfQG.js";function j(){const{actualites:s=[]}=n().props,[l,i]=a.useState(s);if(s.length===0)return e.jsx("p",{children:"Aucune actualité disponible."});a.useEffect(()=>{i(s)},[s]);const c=t=>{confirm("Êtes-vous sûr de vouloir supprimer cette actualité ?")&&o.Inertia.delete(`/actualites/${t}`,{onSuccess:()=>{i(l.filter(r=>r.id!==t))}})};return e.jsx(u,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"header",children:[e.jsx("h1",{className:"title",children:"Actualités"}),e.jsx(d,{href:"/actualites/create",className:"btn-add",children:"Ajouter une Actualité"})]}),e.jsx("ul",{className:"actualite-list",children:s.length>0?s.map(t=>e.jsxs("li",{className:"actualite-card",children:[e.jsx("h3",{className:"actualite-title",children:t.titre}),e.jsx("img",{src:`/storage/${t.image}`,alt:t.titre,className:"actualite-image"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",t.date]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Lieu:"})," ",t.lieu]}),e.jsx("p",{className:"actualite-description",children:t.description}),e.jsx("div",{className:"actualite-actions",children:e.jsx("button",{onClick:()=>c(t.id),className:"btn-delete",children:"Supprimer"})})]},t.id)):e.jsx("p",{className:"no-actualites",children:"Aucune actualité disponible."})})]})})}export{j as default};
